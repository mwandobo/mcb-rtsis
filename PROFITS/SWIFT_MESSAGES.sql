create table SWIFT_MESSAGES
(
    PRFT_REF_NO        CHAR(16),
    FK_DEP_JUSTIFIC_ID INTEGER,
    FK_TRANSF_UNIT_COD INTEGER,
    FK_ISSUE_UNIT_CODE INTEGER,
    FK_JUSTIFIC_ID     INTEGER,
    FK_PRODUCT_PROD_ID INTEGER,
    FK_CURRENCY_CUR_ID INTEGER,
    FK_FROM_OUTORD_NUM INTEGER,
    FK_CUST_CUST_ID    INTEGER,
    FK_DEP_ACC_NUM     DECIMAL(11),
    TOTAL_COMM_AMN_FC  DECIMAL(15, 2),
    OUR_COMM_AMN       DECIMAL(15, 2),
    AMOUNT             DECIMAL(15, 2),
    TOTAL_COMM_AMN     DECIMAL(15, 2),
    BANK_COMMISSION    DECIMAL(15, 2),
    NON_STP_COMM_AMN   DECIMAL(15, 2),
    INTERB_COMM_AMN    DECIMAL(15, 2),
    SEND_TMSTAMP       TIMESTAMP(6),
    CONF_PROC_TMSTAMP  TIMESTAMP(6),
    VALUE_DATE         DATE,
    TMSTAMP            TIMESTAMP(6),
    PRIORITY_CODE      CHAR(1),
    STATUS             CHAR(1),
    OUR_CUSTOMER_FLAG  CHAR(1),
    MSG_CATEGORY       CHAR(1),
    NOSTRO_LORO_FLAG   CHAR(1),
    RELATED_MT202_FLAG CHAR(1),
    STP_FLAG           CHAR(1),
    DUPLICATE_FLAG     CHAR(1),
    MSG_TYPE           CHAR(2),
    CURRENCY           CHAR(3),
    DET_OF_CHARGES     CHAR(3),
    FIN_COPY           VARCHAR(9),
    CONF_PROC_USER     CHAR(8),
    SEND_USER          CHAR(8),
    SIGNB_USER         CHAR(8),
    RECEIVER_BIC       CHAR(11),
    SENDER_BIC         CHAR(11),
    RELATED_REF_21     CHAR(16),
    TRX_REF_NO_20      CHAR(16),
    FX_FT_TUN          CHAR(29),
    FILENAME           VARCHAR(64),
    REJECTION_COMMENTS VARCHAR(100),
    CREATE_USR         CHAR(8),
    ACCOUNT_NUMBER     CHAR(40),
    PRFT_SYSTEM        CHAR(2),
    MESSAGE_TYPE       CHAR(20),
    SWI_FLAG           CHAR(1),
    REPETITIVE         CHAR(1),
    REPETITIVE_PRFT_NO CHAR(16),
    SUB_STATUS         CHAR(1),
    POST_VALUE_DATE    DATE,
    SIGNA_USER         CHAR(8) default ' ',
    INIT_VALUE_DATE    DATE,
    ACCEPT_REJECT      CHAR(2),
    PROCESS_STATUS     CHAR(1),
    SNDR_TO_RCVR_72    VARCHAR(216),
    REMTNCE_INFORM_70  VARCHAR(143),
    RELATED_REF_20     CHAR(16),
    SUB_TYPE           CHAR(4),
    RETURN_REF_20      CHAR(16),
    SIGNA_TMSTAMP      DATE,
    SIGNB_TMSTAMP      DATE,
    GRP_USER           CHAR(8),
    GRP_USR_SN         INTEGER,
    BATCH_SEND         CHAR(1),
    REJECT_USER        CHAR(8),
    REJECT_TMSTAMP     TIMESTAMP(6),
    CANCEL_USER        CHAR(8),
    CANCEL_TMSTAMP     TIMESTAMP(6),
    GPI_ID_111         VARCHAR(10),
    GPI_UERT_121       VARCHAR(40),
    REL_PRFT_REF_NO    CHAR(16),
    GPI_GD_PAR         CHAR(5),
    GPI_GD_SN          INTEGER,
    GPI_REJ_RET        CHAR(1),
    GPI_REJ_CODE       CHAR(10),
    FILE_METHOD        CHAR(1),
    GROUP_SN           INTEGER,
    REC_CHANGED        TIMESTAMP(6),
    LST_REC_CHANGED    CHAR(12),
    GLOBAL_ORDER_CODE  VARCHAR(50),
    SENDER_DATE        DATE,
    SENDER_SESSION     CHAR(40),
    ACKNOWLEDGE        CHAR(1)
);

create unique index IXU_SWI_014
    on SWIFT_MESSAGES (PRFT_REF_NO);

create unique index SK_DUPL_SWIFT
    on SWIFT_MESSAGES (SENDER_BIC asc, TRX_REF_NO_20 asc, MSG_TYPE desc, MSG_CATEGORY asc);

create unique index SWIFT_ORDER_REL
    on SWIFT_MESSAGES (FK_FROM_OUTORD_NUM desc, TMSTAMP desc);

create unique index SWT_REPETITIVE_INDX
    on SWIFT_MESSAGES (REPETITIVE_PRFT_NO, PRFT_REF_NO);

