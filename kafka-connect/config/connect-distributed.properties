# Kafka Connect Distributed Mode Configuration
# For Banking DB2 to PostgreSQL Real-Time Sync

bootstrap.servers=kafka1:9092,kafka2:9092,kafka3:9092

# Cluster group ID
group.id=bank-db2-pg-connect-cluster

# Converters - using JSON with schema for banking data integrity
key.converter=org.apache.kafka.connect.json.JsonConverter
key.converter.schemas.enable=true
value.converter=org.apache.kafka.connect.json.JsonConverter
value.converter.schemas.enable=true

# Internal converters for offsets and configs
internal.key.converter=org.apache.kafka.connect.json.JsonConverter
internal.value.converter=org.apache.kafka.connect.json.JsonConverter

# Offset storage - high replication for durability
offset.storage.topic=connect-offsets
offset.storage.replication.factor=3
offset.storage.partitions=25

# Config storage
config.storage.topic=connect-configs
config.storage.replication.factor=3

# Status storage
status.storage.topic=connect-status
status.storage.replication.factor=3
status.storage.partitions=5

# Flush interval - lower for near real-time
offset.flush.interval.ms=5000

# REST API
rest.port=8083
rest.advertised.host.name=connect-worker-1

# Plugin path - place JDBC drivers here
plugin.path=/opt/kafka-connect/plugins

# Security - TLS for banking
# ssl.truststore.location=/path/to/truststore.jks
# ssl.truststore.password=${TRUSTSTORE_PASSWORD}
# ssl.keystore.location=/path/to/keystore.jks
# ssl.keystore.password=${KEYSTORE_PASSWORD}

# Producer settings for exactly-once
producer.acks=all
producer.retries=2147483647
producer.max.in.flight.requests.per.connection=1

# Consumer settings
consumer.auto.offset.reset=earliest
